<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane stylesheets="@style.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="org.example.depositobebidassys.controller.VendaController">
    <children>
        <HBox spacing="20.0" alignment="CENTER">
            <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0" /></padding>

            <VBox spacing="10.0" styleClass="card-form" prefWidth="420">
                <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0" /></padding>

                <Label styleClass="label-titulo" text="CAIXA" />
                <Separator opacity="0.3" />

                <Label text="Pesquisar Produto:" style="-fx-font-weight: bold;" />
                <TextField fx:id="txtBuscaProduto" promptText="Digite nome ou categoria..." prefHeight="35" />

                <Label text="Filtros Rápidos:" style="-fx-font-size: 11px; -fx-text-fill: #888;" />

                <ScrollPane fitToWidth="true" prefHeight="120" style="-fx-background-color: transparent; -fx-background: transparent;">
                    <FlowPane hgap="5" vgap="5" styleClass="filter-pane">
                        <Button text="TODOS" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="COMBO" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />

                        <Button text="CERVEJA" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="WHISKY" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="VODKA" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="CACHAÇA" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="GIN" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="VINHO E ESPUMANTE" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />

                        <Button text="REFRIGERANTE" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="ENERGÉTICO" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="ÁGUA" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="ISOTÔNICO" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="SUCO" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />

                        <Button text="GELO" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="GELO SABORIAZADO" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                        <Button text="OUTROS" onAction="#filtrarPorBotao" styleClass="button-refresh" style="-fx-font-size: 10px;" />
                    </FlowPane>
                </ScrollPane>

                <ComboBox fx:id="cbProdutoVenda" promptText="Selecione na lista..." maxWidth="Infinity" prefHeight="40" />

                <GridPane hgap="10" vgap="5">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="25" />
                        <ColumnConstraints percentWidth="75" />
                    </columnConstraints>
                    <children>
                        <VBox spacing="5" GridPane.columnIndex="0">
                            <Label text="Qtd:" />
                            <TextField fx:id="txtQtdVenda" promptText="Qtd" prefHeight="40" text="1" />
                        </VBox>
                        <VBox spacing="5" GridPane.columnIndex="1">
                            <Label text="Pagamento:" />
                            <ComboBox fx:id="cbMetodoPagamento" maxWidth="Infinity" prefHeight="40" />
                        </VBox>
                    </children>
                </GridPane>

                <Button onAction="#adicionarAoCarrinho" text="ADICIONAR AO CARRINHO" styleClass="button-salvar" maxWidth="Infinity" prefHeight="45" />
            </VBox> <VBox spacing="15.0" styleClass="card-form" HBox.hgrow="ALWAYS">
            <padding><Insets bottom="20.0" left="20.0" right="20.0" top="20.0" /></padding>

            <TableView fx:id="tabelaCarrinho" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colNomeCarrinho" text="Item" prefWidth="300" />
                    <TableColumn fx:id="colQtdCarrinho" text="Qtd" prefWidth="80" />
                    <TableColumn fx:id="colPrecoCarrinho" text="Un." prefWidth="90" />
                    <TableColumn fx:id="colSubtotalCarrinho" text="Subtotal" prefWidth="120" />
                </columns>
            </TableView>

            <HBox spacing="15" alignment="CENTER_RIGHT">
                <Button onAction="#removerDoCarrinho" text="REMOVER ITEM" styleClass="button-perigo" prefWidth="170" prefHeight="40" />
                <Button onAction="#aplicarDesconto" text="DESCONTO" styleClass="button-editar" prefWidth="150" prefHeight="40" />
            </HBox>

            <Separator opacity="0.3" />

            <HBox alignment="CENTER_RIGHT" spacing="20">
                <Label text="TOTAL A PAGAR:" style="-fx-font-size: 18px;" />
                <Label fx:id="lblTotalVenda" text="R$ 0,00" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #00d2ff;" />
            </HBox>

            <Button onAction="#finalizarVenda" text="FINALIZAR VENDA" style="-fx-background-color: #2ecc71; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 18px;" maxWidth="Infinity" prefHeight="50" />
        </VBox> </HBox>
    </children>
</StackPane>